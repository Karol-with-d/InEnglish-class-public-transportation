<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Transportation - Lesson 7</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .institutional-header {
            background: linear-gradient(135deg, #1a237e 0%, #3f51b5 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        }
        
        .institutional-header h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .institutional-header h2 {
            font-size: 1.4em;
            margin-bottom: 6px;
            font-weight: 300;
            opacity: 0.9;
        }
        
        .institutional-header h3 {
            font-size: 1.2em;
            margin-bottom: 6px;
            font-weight: 300;
            opacity: 0.8;
        }
        
        .institutional-header h4 {
            font-size: 1.1em;
            font-weight: 400;
            opacity: 0.9;
            border-top: 1px solid rgba(255,255,255,0.3);
            padding-top: 10px;
            margin-top: 10px;
        }
        
        .header {
            background: linear-gradient(45deg, #1565C0, #42A5F5);
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .lesson-info {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .info-item {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }
        
        .competencies {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .competencies h2 {
            color: #1565C0;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .competencies ul {
            list-style-type: none;
        }
        
        .competencies li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .competencies li::before {
            content: "üöå";
            position: absolute;
            left: 0;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            background: linear-gradient(45deg, #1565C0, #42A5F5);
            color: white;
            padding: 15px;
            margin: -25px -25px 20px -25px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            font-size: 1.4em;
        }
        
        .vocab-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .vocab-item {
            background: linear-gradient(135deg, #81C784 0%, #4FC3F7 100%);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
        }
        
        .vocab-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border-color: #1565C0;
        }
        
        .vocab-item:active {
            transform: translateY(-2px);
        }
        
        .vocab-item::after {
            content: "üîä";
            position: absolute;
            top: 5px;
            right: 8px;
            font-size: 12px;
            opacity: 0.7;
        }
        
        .functional-list {
            list-style: none;
        }
        
        .functional-list li {
            background: linear-gradient(135deg, #FFCC80 0%, #FFB74D 100%);
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            line-height: 1.4;
            border: 2px solid transparent;
            position: relative;
        }
        
        .functional-list li:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-color: #1565C0;
        }
        
        .functional-list li small {
            color: #666;
            font-style: italic;
            display: block;
            margin-top: 5px;
        }
        
        .functional-list li::after {
            content: "üîä";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 14px;
            opacity: 0.7;
        }
        
        .activities {
            background: white;
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .activities h2 {
            color: #1565C0;
            margin-bottom: 30px;
            text-align: center;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .activity-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .tab-button {
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .tab-button:hover, .tab-button.active {
            background: linear-gradient(45deg, #1565C0, #42A5F5);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .activity-content {
            display: none;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
            min-height: 400px;
        }
        
        .activity-content.active {
            display: block;
        }
        
        .quiz-container, .scenario-container, .memory-container {
            text-align: center;
        }
        
        .quiz-options, .scenario-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .quiz-option, .scenario-option {
            padding: 20px;
            background: rgba(255,255,255,0.2);
            border: 2px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .quiz-option:hover, .scenario-option:hover {
            background: rgba(255,255,255,0.3);
            border-color: white;
            transform: scale(1.05);
        }
        
        .quiz-option.correct, .scenario-option.correct {
            background: #4CAF50;
            border-color: #2E7D32;
        }
        
        .quiz-option.incorrect, .scenario-option.incorrect {
            background: #f44336;
            border-color: #d32f2f;
        }
        
        .pronunciation-item {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .play-btn {
            background: #1565C0;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }
        
        .play-btn:hover {
            background: #42A5F5;
            transform: scale(1.1);
        }
        
        .conversation-area {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: left;
        }
        
        .memory-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .memory-card {
            background: rgba(255,255,255,0.3);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .memory-card:hover {
            background: rgba(255,255,255,0.4);
            transform: scale(1.05);
        }
        
        .memory-card.flipped {
            background: #4CAF50;
        }
        
        .memory-card.matched {
            background: #2E7D32;
            opacity: 0.7;
        }
        
        .story-section {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: left;
            line-height: 1.8;
        }
        
        .fill-blank {
            background: rgba(255,255,255,0.3);
            padding: 5px 15px;
            border-radius: 5px;
            border: 2px dashed white;
            margin: 0 5px;
            min-width: 100px;
            display: inline-block;
        }
        
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .word-option {
            background: rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .word-option:hover {
            background: rgba(255,255,255,0.4);
            transform: scale(1.05);
        }
        
        .word-option.used {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .lesson-info {
                flex-direction: column;
                align-items: center;
            }
            .vocab-grid {
                grid-template-columns: 1fr;
            }
            
            .memory-cards {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="institutional-header">
            <h1>UNIVERSIDAD DE ORIENTE</h1>
            <h2>School of Arts and Science</h2>
            <h3>Intensive English</h3>
            <h4>Coach: Karold Arias</h4>
        </div>
        
        <div class="header">
            <h1>üöå PUBLIC TRANSPORTATION üöá</h1>
            <div class="lesson-info">
                <div class="info-item">‚è±Ô∏è 100 min</div>
                <div class="info-item">‚≠ê Level A1.4</div>
                <div class="info-item">üó£Ô∏è Pronunciation, Listening, Writing, Speaking</div>
            </div>
        </div>
        
        <div class="competencies">
            <h2>Learning Competencies</h2>
            <ul>
                <li>Identifying different modes of transportation.</li>
                <li>Using essential vocabulary related to public transportation.</li>
            </ul>
        </div>
        
        <div class="main-content">
            <div class="section">
                <h2>üöä Vocabulary</h2>
                <p style="text-align: center; margin-bottom: 15px; font-style: italic; color: #666;">
                    <strong>üì± Touch/Click each word to hear the correct pronunciation!</strong>
                </p>
                <div class="vocab-grid">
                    <div class="vocab-item" onclick="pronounceWord('bus')">üöå Bus</div>
                    <div class="vocab-item" onclick="pronounceWord('bus stop')">üöè Bus Stop</div>
                    <div class="vocab-item" onclick="pronounceWord('passenger')">üë§ Passenger</div>
                    <div class="vocab-item" onclick="pronounceWord('bus station')">üè¢ Bus Station</div>
                    <div class="vocab-item" onclick="pronounceWord('ticket')">üé´ Ticket</div>
                    <div class="vocab-item" onclick="pronounceWord('train')">üöÜ Train</div>
                    <div class="vocab-item" onclick="pronounceWord('train station')">üöâ Train Station</div>
                    <div class="vocab-item" onclick="pronounceWord('taxi')">üöï Taxi</div>
                    <div class="vocab-item" onclick="pronounceWord('arrival')">üìç Arrival</div>
                    <div class="vocab-item" onclick="pronounceWord('departure')">üõ´ Departure</div>
                    <div class="vocab-item" onclick="pronounceWord('subway')">üöá Subway</div>
                    <div class="vocab-item" onclick="pronounceWord('platform')">üöâ Platform</div>
                    <div class="vocab-item" onclick="pronounceWord('fare')">üí∞ Fare</div>
                    <div class="vocab-item" onclick="pronounceWord('fare card')">üí≥ Fare Card</div>
                </div>
            </div>
            
            <div class="section">
                <h2>üí¨ Functional Language</h2>
                <p style="text-align: center; margin-bottom: 15px; font-style: italic; color: #666;">
                    <strong>üì± Touch/Click each phrase to hear the example pronunciation!</strong>
                </p>
                <ul class="functional-list">
                    <li onclick="speakPhrase('Where is the nearest bus stop to downtown')">
                        <strong>Where is the nearest bus stop?</strong><br>
                        <small>Example: Where is the nearest bus stop to downtown?</small>
                    </li>
                    <li onclick="speakPhrase('How much is the fare to the airport')">
                        <strong>How much is the fare?</strong><br>
                        <small>Example: How much is the fare to the airport?</small>
                    </li>
                    <li onclick="speakPhrase('I need a ticket for the subway to Central Station')">
                        <strong>I need a ticket for the subway.</strong><br>
                        <small>Example: I need a ticket for the subway to Central Station.</small>
                    </li>
                    <li onclick="speakPhrase('I dont want to miss the bus this morning')">
                        <strong>Miss the bus.</strong><br>
                        <small>Example: I don't want to miss the bus this morning.</small>
                    </li>
                    <li onclick="speakPhrase('What time does the train arrive at the station')">
                        <strong>What time does the train arrive?</strong><br>
                        <small>Example: What time does the train arrive at the station?</small>
                    </li>
                    <li onclick="speakPhrase('This is my stop, I need to get off here')">
                        <strong>This is my stop.</strong><br>
                        <small>Example: This is my stop, I need to get off here.</small>
                    </li>
                    <li onclick="speakPhrase('Is this seat taken or can I sit here')">
                        <strong>Is this seat taken?</strong><br>
                        <small>Example: Is this seat taken or can I sit here?</small>
                    </li>
                    <li onclick="speakPhrase('I am going to take the metro to work today')">
                        <strong>I am going to take...</strong><br>
                        <small>Example: I am going to take the metro to work today.</small>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="activities">
            <h2>üéØ Extended Interactive Learning Activities</h2>
            <div class="activity-tabs">
                <button class="tab-button active" onclick="showActivity('quiz')">Transportation Quiz</button>
                <button class="tab-button" onclick="showActivity('scenarios')">Real-Life Scenarios</button>
                <button class="tab-button" onclick="showActivity('pronunciation')">Pronunciation Lab</button>
                <button class="tab-button" onclick="showActivity('conversations')">Conversation Practice</button>
                <button class="tab-button" onclick="showActivity('memory')">Memory Challenge</button>
                <button class="tab-button" onclick="showActivity('story')">Complete the Story</button>
                <button class="tab-button" onclick="showActivity('listening')">Listening Comprehension</button>
            </div>
            
            <div id="quiz" class="activity-content active">
                <div class="quiz-container">
                    <h3 id="quiz-question">Where do you wait for a bus? üöè</h3>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, true)">üöè Bus Stop</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">üöâ Train Station</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">üöá Subway</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">üöï Taxi</div>
                    </div>
                    <div id="quiz-feedback" style="margin: 20px 0; font-weight: bold; font-size: 1.2em;"></div>
                    <button onclick="nextQuizQuestion()" style="display:none;" id="next-btn" class="tab-button">Next Question</button>
                    <div id="quiz-score" style="margin-top: 20px; font-size: 1.1em;"></div>
                </div>
            </div>
            
            <div id="scenarios" class="activity-content">
                <div class="scenario-container">
                    <h3>Real-Life Transportation Scenarios</h3>
                    <p style="margin: 20px 0;">Choose the best response for each situation:</p>
                    
                    <div id="scenario-question">
                        <h4>üé≠ Scenario 1: You're lost and need directions to the nearest subway station.</h4>
                        <p><strong>What do you say?</strong></p>
                    </div>
                    
                    <div class="scenario-options">
                        <div class="scenario-option" onclick="checkScenario(this, true)">
                            "Excuse me, where is the nearest subway station?"
                        </div>
                        <div class="scenario-option" onclick="checkScenario(this, false)">
                            "I want to buy a car."
                        </div>
                        <div class="scenario-option" onclick="checkScenario(this, false)">
                            "What time is it?"
                        </div>
                        <div class="scenario-option" onclick="checkScenario(this, false)">
                            "I like pizza."
                        </div>
                    </div>
                    
                    <button onclick="nextScenario()" style="display:none;" id="scenario-next-btn" class="tab-button">Next Scenario</button>
                    <div id="scenario-score" style="margin-top: 20px; font-size: 1.1em;"></div>
                </div>
            </div>
            
            <div id="pronunciation" class="activity-content">
                <h3>üéôÔ∏è Advanced Pronunciation Laboratory</h3>
                <p style="text-align: center; margin-bottom: 20px;">Practice difficult transportation vocabulary:</p>
                
                <div class="pronunciation-item">
                    <span><strong>üöâ Train Station</strong> - /tre…™n Ààste…™ É…ôn/</span>
                    <button class="play-btn" onclick="pronounceWord('train station')">‚ñ∂Ô∏è</button>
                </div>
                <div class="pronunciation-item">
                    <span><strong>üë§ Passenger</strong> - /Ààp√¶s…™nd í…ôr/</span>
                    <button class="play-btn" onclick="pronounceWord('passenger')">‚ñ∂Ô∏è</button>
                </div>
                <div class="pronunciation-item">
                    <span><strong>üõ´ Departure</strong> - /d…™Ààp…ëÀêrt É…ôr/</span>
                    <button class="play-btn" onclick="pronounceWord('departure')">‚ñ∂Ô∏è</button>
                </div>
                <div class="pronunciation-item">
                    <span><strong>üöá Subway Platform</strong> - /Ààs åbwe…™ Ààpl√¶tf…îÀêrm/</span>
                    <button class="play-btn" onclick="pronounceWord('subway platform')">‚ñ∂Ô∏è</button>
                </div>
                <div class="pronunciation-item">
                    <span><strong>üí≥ Fare Card</strong> - /fer k…ëÀêrd/</span>
                    <button class="play-btn" onclick="pronounceWord('fare card')">‚ñ∂Ô∏è</button>
                </div>
            </div>
            
            <div id="conversations" class="activity-content">
                <h3>üí¨ Interactive Conversation Practice</h3>
                <div class="conversation-area">
                    <h4>üé≠ Role Play: At the Bus Station</h4>
                    <p><strong>Person A:</strong> Tourist asking for help</p>
                    <p><strong>Person B:</strong> Helpful local person</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <p><strong>Tourist:</strong> "Excuse me, how much is the fare to downtown?"</p>
                        <p><strong>Local:</strong> "It's $2.50. Do you have a fare card?"</p>
                        <p><strong>Tourist:</strong> "No, I don't. Where can I buy one?"</p>
                        <p><strong>Local:</strong> "There's a machine over there. You can also pay with exact change."</p>
                    </div>
                    
                    <button class="tab-button" onclick="speakPhrase('Excuse me, how much is the fare to downtown')" style="margin: 5px;">üîä Practice Dialogue</button>
                </div>
                
                <div class="conversation-area">
                    <h4>üé≠ Role Play: Missing Your Train</h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <p><strong>Passenger:</strong> "Oh no! I missed my train. When is the next one?"</p>
                        <p><strong>Station Worker:</strong> "The next train departs at 3:15 PM from platform 2."</p>
                        <p><strong>Passenger:</strong> "Is this seat taken on the next train?"</p>
                        <p><strong>Station Worker:</strong> "No, it's first come, first served."</p>
                    </div>
                    
                    <button class="tab-button" onclick="speakPhrase('Oh no, I missed my train, when is the next one')" style="margin: 5px;">üîä Practice Dialogue</button>
                </div>
            </div>
            
            <div id="memory" class="activity-content">
                <div class="memory-container">
                    <h3>üß† Transportation Memory Challenge</h3>
                    <p>Match the transportation words with their meanings. Click two cards to flip them!</p>
                    
                    <div id="memory-score-display" style="margin: 20px 0; font-size: 1.2em; font-weight: bold;"></div>
                    
                    <div class="memory-cards" id="memory-cards">
                        <!-- Cards will be generated by JavaScript -->
                    </div>
                    
                    <button class="tab-button" onclick="resetMemoryGame()" style="margin-top: 20px;">üîÑ Reset Game</button>
                </div>
            </div>
            
            <div id="story" class="activity-content">
                <h3>üìñ Complete the Transportation Story</h3>
                <p style="text-align: center; margin-bottom: 20px;">Fill in the blanks with the correct transportation words:</p>
                
                <div class="story-section">
                    <p>Yesterday, Sarah needed to get to work. First, she walked to the <span class="fill-blank" onclick="fillBlank(this, 'bus stop')">_______</span> and waited for the <span class="fill-blank" onclick="fillBlank(this, 'bus')">_______</span>. The <span class="fill-blank" onclick="fillBlank(this, 'fare')">_______</span> was $2.00, so she used her <span class="fill-blank" onclick="fillBlank(this, 'fare card')">_______</span>.</p>
                    
                    <p>When she got downtown, she realized she needed to take the <span class="fill-blank" onclick="fillBlank(this, 'subway')">_______</span> to get to her office building. She bought a <span class="fill-blank" onclick="fillBlank(this, 'ticket')">_______</span> and went to the <span class="fill-blank" onclick="fillBlank(this, 'platform')">_______</span> to wait.</p>
                    
                    <p>The <span class="fill-blank" onclick="fillBlank(this, 'train')">_______</span> arrived on time, and Sarah found an empty seat. She didn't want to miss her stop, so she asked another <span class="fill-blank" onclick="fillBlank(this, 'passenger')">_______</span>, "Is this <span class="fill-blank" onclick="fillBlank(this, 'seat')">_______</span> taken?" The person said no, so she sat down for the rest of her journey.</p>
                </div>
                
                <div class="word-bank">
                    <div class="word-option" onclick="selectWord(this)">bus stop</div>
                    <div class="word-option" onclick="selectWord(this)">bus</div>
                    <div class="word-option" onclick="selectWord(this)">fare</div>
                    <div class="word-option" onclick="selectWord(this)">fare card</div>
                    <div class="word-option" onclick="selectWord(this)">subway</div>
                    <div class="word-option" onclick="selectWord(this)">ticket</div>
                    <div class="word-option" onclick="selectWord(this)">platform</div>
                    <div class="word-option" onclick="selectWord(this)">train</div>
                    <div class="word-option" onclick="selectWord(this)">passenger</div>
                    <div class="word-option" onclick="selectWord(this)">seat</div>
                </div>
                
                <button class="tab-button" onclick="checkStory()" style="margin-top: 20px;">‚úÖ Check My Story</button>
                <button class="tab-button" onclick="resetStory()" style="margin-top: 20px;">üîÑ Reset Story</button>
            </div>
            
            <div id="listening" class="activity-content">
                <h3>üëÇ Listening Comprehension Challenge</h3>
                <div style="text-align: center;">
                    <p style="margin-bottom: 30px;">Listen carefully and answer the questions about transportation scenarios:</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 12px; margin: 20px 0;">
                        <h4>üéß Listening Exercise 1</h4>
                        <p style="margin: 15px 0;">Click to hear the announcement:</p>
                        <button class="play-btn" onclick="playAnnouncement(1)" style="margin: 10px;">‚ñ∂Ô∏è Play</button>
                        <p id="listening-text-1" style="margin-top: 15px; font-style: italic; display: none;">
                            "Attention passengers. The 3:30 train to Central Station will be departing from platform 5 in 10 minutes. Please have your tickets ready."
                        </p>
                        
                        <div style="margin-top: 20px;">
                            <p><strong>Question: What time does the train depart?</strong></p>
                            <div style="display: flex; justify-content: center; gap: 10px; margin: 15px 0; flex-wrap: wrap;">
                                <button class="quiz-option" onclick="checkListening(this, false, 1)">3:20</button>
                                <button class="quiz-option" onclick="checkListening(this, true, 1)">3:30</button>
                                <button class="quiz-option" onclick="checkListening(this, false, 1)">3:40</button>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 12px; margin: 20px 0;">
                        <h4>üéß Listening Exercise 2</h4>
                        <button class="play-btn" onclick="playAnnouncement(2)" style="margin: 10px;">‚ñ∂Ô∏è Play</button>
                        <p id="listening-text-2" style="margin-top: 15px; font-style: italic; display: none;">
                            "Next stop: Downtown Station. Passengers getting off at Downtown, please move to the rear doors. This is a non-smoking bus. The fare is $2.50."
                        </p>
                        
                        <div style="margin-top: 20px;">
                            <p><strong>Question: How much is the bus fare?</strong></p>
                            <div style="display: flex; justify-content: center; gap: 10px; margin: 15px 0; flex-wrap: wrap;">
                                <button class="quiz-option" onclick="checkListening(this, false, 2)">$2.00</button>
                                <button class="quiz-option" onclick="checkListening(this, true, 2)">$2.50</button>
                                <button class="quiz-option" onclick="checkListening(this, false, 2)">$3.00</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Speech synthesis for pronunciation
        function pronounceWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.rate = 0.8;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            } else {
                alert('Pronunciation: ' + word);
            }
        }
        
        function speakPhrase(phrase) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSythesisUtterance(phrase);
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                alert('Phrase: ' + phrase);
            }
        }
        
        // Activity tabs
        function showActivity(activityName) {
            document.querySelectorAll('.activity-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(activityName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Quiz functionality
        let currentQuizIndex = 0;
        let quizScore = 0;
        const quizQuestions = [
            {
                question: "Where do you wait for a bus? üöè",
                options: ["üöè Bus Stop", "üöâ Train Station", "üöá Subway", "üöï Taxi"],
                correct: 0,
                feedback: "Correct! You wait for a bus at a bus stop."
            },
            {
                question: "What do you need to ride public transportation? üé´",
                options: ["üçï Pizza", "üé´ Ticket", "üì± Phone", "üëî Suit"],
                correct: 1,
                feedback: "Exactly! You need a ticket to ride public transportation."
            },
            {
                question: "Where do trains stop to pick up passengers? üöâ",
                options: ["üè™ Store", "üöâ Train Station", "üè† House", "üèñÔ∏è Beach"],
                correct: 1,
                feedback: "Perfect! Trains stop at train stations."
            },
            {
                question: "What do you call the money you pay for transportation? üí∞",
                options: ["üí∞ Fare", "üéÅ Gift", "üçé Apple", "‚öΩ Ball"],
                correct: 0,
                feedback: "Great! The money you pay is called a fare."
            }
        ];
        
        function checkAnswer(element, isCorrect) {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('correct', 'incorrect');
            });
            
            const feedback = document.getElementById('quiz-feedback');
            
            if (isCorrect) {
                element.classList.add('correct');
                quizScore++;
                feedback.textContent = quizQuestions[currentQuizIndex].feedback;
                feedback.style.color = '#4CAF50';
            } else {
                element.classList.add('incorrect');
                document.querySelectorAll('.quiz-option')[quizQuestions[currentQuizIndex].correct].classList.add('correct');
                feedback.textContent = "Incorrect. " + quizQuestions[currentQuizIndex].feedback;
                feedback.style.color = '#f44336';
            }
            
            document.getElementById('next-btn').style.display = 'inline-block';
            updateQuizScore();
        }
        
        function nextQuizQuestion() {
            currentQuizIndex = (currentQuizIndex + 1) % quizQuestions.length;
            const question = quizQuestions[currentQuizIndex];
            
            document.getElementById('quiz-question').textContent = question.question;
            const options = document.querySelectorAll('.quiz-option');
            
            question.options.forEach((option, index) => {
                options[index].textContent = option;
                options[index].classList.remove('correct', 'incorrect');
                options[index].onclick = () => checkAnswer(options[index], index === question.correct);
            });
            
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('quiz-feedback').textContent = '';
        }
        
        function updateQuizScore() {
            document.getElementById('quiz-score').textContent = `Score: ${quizScore}/${quizQuestions.length}`;
        }
        
        // Scenario functionality
        let currentScenarioIndex = 0;
        let scenarioScore = 0;
        const scenarios = [
            {
                scenario: "üé≠ Scenario 1: You're lost and need directions to the nearest subway station.",
                question: "What do you say?",
                options: [
                    "Excuse me, where is the nearest subway station?",
                    "I want to buy a car.",
                    "What time is it?",
                    "I like pizza."
                ],
                correct: 0
            },
            {
                scenario: "üé≠ Scenario 2: You're on a crowded bus and want to sit down.",
                question: "What do you ask?",
                options: [
                    "Can you drive faster?",
                    "Is this seat taken?",
                    "Where is the bathroom?",
                    "Do you like music?"
                ],
                correct: 1
            },
            {
                scenario: "üé≠ Scenario 3: You need to know the cost of a train ticket.",
                question: "What do you ask?",
                options: [
                    "What's your favorite color?",
                    "How much is the fare?",
                    "Are you married?",
                    "Do you have pets?"
                ],
                correct: 1
            }
        ];
        
        function checkScenario(element, isCorrect) {
            document.querySelectorAll('.scenario-option').forEach(option => {
                option.classList.remove('correct', 'incorrect');
            });
            
            if (isCorrect) {
                element.classList.add('correct');
                scenarioScore++;
            } else {
                element.classList.add('incorrect');
                document.querySelectorAll('.scenario-option')[scenarios[currentScenarioIndex].correct].classList.add('correct');
            }
            
            document.getElementById('scenario-next-btn').style.display = 'inline-block';
            updateScenarioScore();
        }
        
        function nextScenario() {
            currentScenarioIndex = (currentScenarioIndex + 1) % scenarios.length;
            const scenario = scenarios[currentScenarioIndex];
            
            document.getElementById('scenario-question').innerHTML = `
                <h4>${scenario.scenario}</h4>
                <p><strong>${scenario.question}</strong></p>
            `;
            
            const options = document.querySelectorAll('.scenario-option');
            scenario.options.forEach((option, index) => {
                options[index].textContent = option;
                options[index].classList.remove('correct', 'incorrect');
                options[index].onclick = () => checkScenario(options[index], index === scenario.correct);
            });
            
            document.getElementById('scenario-next-btn').style.display = 'none';
        }
        
        function updateScenarioScore() {
            document.getElementById('scenario-score').textContent = `Scenario Score: ${scenarioScore}/${scenarios.length}`;
        }
        
        // Memory game functionality
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let memoryAttempts = 0;
        
        const memoryData = [
            {word: "üöå", meaning: "Bus"},
            {word: "üöè", meaning: "Bus Stop"},
            {word: "üöÜ", meaning: "Train"},
            {word: "üöá", meaning: "Subway"},
            {word: "üé´", meaning: "Ticket"},
            {word: "üí∞", meaning: "Fare"}
        ];
        
        function initMemoryGame() {
            memoryCards = [];
            memoryData.forEach(item => {
                memoryCards.push({type: 'word', content: item.word, match: item.meaning});
                memoryCards.push({type: 'meaning', content: item.meaning, match: item.word});
            });
            
            // Shuffle cards
            memoryCards.sort(() => Math.random() - 0.5);
            
            const container = document.getElementById('memory-cards');
            container.innerHTML = '';
            
            memoryCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'memory-card';
                cardElement.textContent = '?';
                cardElement.onclick = () => flipCard(cardElement, index);
                cardElement.dataset.index = index;
                container.appendChild(cardElement);
            });
            
            updateMemoryScore();
        }
        
        function flipCard(element, index) {
            if (flippedCards.length < 2 && !element.classList.contains('flipped')) {
                element.classList.add('flipped');
                element.textContent = memoryCards[index].content;
                flippedCards.push({element, index});
                
                if (flippedCards.length === 2) {
                    memoryAttempts++;
                    setTimeout(checkMemoryMatch, 1000);
                }
            }
        }
        
        function checkMemoryMatch() {
            const [card1, card2] = flippedCards;
            const match1 = memoryCards[card1.index];
            const match2 = memoryCards[card2.index];
            
            if (match1.match === match2.content || match2.match === match1.content) {
                card1.element.classList.add('matched');
                card2.element.classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === memoryData.length) {
                    setTimeout(() => alert(`üéâ Congratulations! You completed the memory game in ${memoryAttempts} attempts!`), 500);
                }
            } else {
                card1.element.classList.remove('flipped');
                card2.element.classList.remove('flipped');
                card1.element.textContent = '?';
                card2.element.textContent = '?';
            }
            
            flippedCards = [];
            updateMemoryScore();
        }
        
        function updateMemoryScore() {
            document.getElementById('memory-score-display').textContent = 
                `Matched: ${matchedPairs}/${memoryData.length} | Attempts: ${memoryAttempts}`;
        }
        
        function resetMemoryGame() {
            flippedCards = [];
            matchedPairs = 0;
            memoryAttempts = 0;
            initMemoryGame();
        }
        
        // Story completion functionality
        let selectedWord = null;
        
        function selectWord(element) {
            if (element.classList.contains('used')) return;
            
            document.querySelectorAll('.word-option').forEach(option => {
                option.style.backgroundColor = 'rgba(255,255,255,0.3)';
            });
            
            element.style.backgroundColor = 'rgba(255,255,255,0.5)';
            selectedWord = element.textContent;
        }
        
        function fillBlank(element, correctAnswer) {
            if (!selectedWord) {
                alert('Please select a word from the word bank first!');
                return;
            }
            
            element.textContent = selectedWord;
            element.dataset.answer = selectedWord;
            element.dataset.correct = correctAnswer;
            
            // Mark word as used
            document.querySelectorAll('.word-option').forEach(option => {
                if (option.textContent === selectedWord && !option.classList.contains('used')) {
                    option.classList.add('used');
                    option.style.opacity = '0.5';
                    selectedWord = null;
                    return;
                }
            });
        }
        
        function checkStory() {
            let correct = 0;
            let total = 0;
            
            document.querySelectorAll('.fill-blank').forEach(blank => {
                total++;
                const answer = blank.dataset.answer;
                const correctAnswer = blank.dataset.correct;
                
                if (answer === correctAnswer) {
                    blank.style.backgroundColor = '#4CAF50';
                    blank.style.color = 'white';
                    correct++;
                } else if (answer) {
                    blank.style.backgroundColor = '#f44336';
                    blank.style.color = 'white';
                } else {
                    blank.style.backgroundColor = '#FFC107';
                }
            });
            
            alert(`You got ${correct} out of ${total} correct!`);
        }
        
        function resetStory() {
            document.querySelectorAll('.fill-blank').forEach(blank => {
                blank.textContent = '_______';
                blank.style.backgroundColor = 'rgba(255,255,255,0.3)';
                blank.style.color = 'white';
                blank.removeAttribute('data-answer');
            });
            
            document.querySelectorAll('.word-option').forEach(option => {
                option.classList.remove('used');
                option.style.opacity = '1';
                option.style.backgroundColor = 'rgba(255,255,255,0.3)';
            });
            
            selectedWord = null;
        }
        
        // Listening comprehension
        function playAnnouncement(exerciseNumber) {
            const text = document.getElementById(`listening-text-${exerciseNumber}`).textContent;
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            }
            
            // Show text after a delay
            setTimeout(() => {
                document.getElementById(`listening-text-${exerciseNumber}`).style.display = 'block';
            }, 3000);
        }
        
        function checkListening(element, isCorrect, exerciseNumber) {
            element.parentElement.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('correct', 'incorrect');
            });
            
            if (isCorrect) {
                element.classList.add('correct');
            } else {
                element.classList.add('incorrect');
            }
        }
        
        // Initialize memory game when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initMemoryGame();
        });
    </script>
</body>
</html>